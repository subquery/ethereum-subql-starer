# NOTE THIS FILE IS HAS BEEN DEPRECATED AND REPLACED BY THE TYPESCRIPT DEFINITION (PROJECT.TS)
# The CLI will automatically look for the project.ts as priority, if you want to ensure you
# use the project manifest, please delete project.ts

specVersion: "1.0.0"
name: "uniswap-v3"
version: "0.0.1"
runner:
  node:
    name: "@subql/node-ethereum"
    version: "*"
  query:
    name: "@subql/query"
    version: "*"
description: "This project can be use as a starting point for developing your new Ethereum SubQuery project"
repository: "https://github.com/subquery/ethereum-subql-starter"
schema:
  file: "./schema.graphql"
network:
  chainId: "1"
  endpoint: ["https://eth.api.onfinality.io/public"]
  dictionary: "https://gx.api.subquery.network/sq/subquery/eth-dictionary"
dataSources:
  - kind: ethereum/Runtime
    name: FeedRegistry
    options:
      address: "0x47fb2585d2c56fe188d0e6ec628a38b74fceeedf"
      abi: FeedRegistry
    startBlock: 12864088
    assets:
      FeedRegistry:
        file: "./abis/FeedRegistry.json"
      AccessControlledOffchainAggregator:
        file: "./abis/AccessControlledOffchainAggregator.json"
    mapping:
      file: "./dist/index.js"
      handlers:
        - handler: handleFeedConfirmed
          kind: ethereum/LogHandler
          filter:
            topics:
              - FeedConfirmed(address,address,address,address,uint16,address)
templates:
  - name: DataFeed
    kind: ethereum/Runtime
    options:
      abi: AccessControlledOffchainAggregator
    assets:
      AccessControlledOffchainAggregator:
        file: "./abis/AccessControlledOffchainAggregator.json"
    mapping:
      file: "./dist/index.js"
      handlers:
        - handler: handleAnswerUpdated
          kind: ethereum/LogHandler
          filter:
            topics:
              - AnswerUpdated(int256,uint256,uint256)
